<div class="card card-notifications">
  <div class="card-header sticky-top">
    <% if @open_rewards.to_a.any? %>
      <div class="per-page btn-group float-right d-block" data-toggle="tooltip" data-placement="left" title="Issues per page">
        <button type="button" class="btn btn-sm btn-outline-dark dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <%= @per_page %>
          <span class="caret"></span>
        </button>
        <ul class="dropdown-menu dropdown-menu-right text-right">
          <% %w(20 40 60 80 100).map do |pagination_interval| %>
            <%= link_to pagination_interval, root_path(filtered_params(per_page: pagination_interval.to_i)), class: "dropdown-item #{'active' if @per_page == pagination_interval.to_i}" %>
          <% end %>
        </ul>
      </div>
    <% end %>
    <button id='sidebar_toggle' type="button" class="d-inline-block d-xl-none btn btn-sm btn-outline-dark" data-toggle="offcanvas" aria-label='Toggle sidebar'>
      <%= octicon 'three-bars', :height => 16 %>
    </button>
    <%# if @open_rewards.to_a.any? %>
<!--      <div class="custom-control custom-checkbox select-all d-inline-block">-->
<!--        <input id="select_all" type="checkbox" class='custom-control-input js-select_all' aria-label='Select All'>-->
        <%#= label_tag "select_all", '', class: "custom-control-label" %>
<!--      </div>-->
      <%#= select_all_button(@cur_selected, @total) %>
    <%# end %>
    <%= link_to sync_notifications_path(filters), class: "btn btn-sm btn-outline-dark js-sync #{'js-async' if Octobox.background_jobs_enabled?}", 'data-toggle' => 'tooltip', 'data-placement' => 'bottom', 'data-turbolinks' => false, 'data-animation' => 'false', 'data-position' => 'bottom', 'title' => 'Sync', 'aria-label' => 'Sync' do %>
      <%= octicon 'sync', height: 16, class: "#{'spinning' if initial_sync? || current_user.syncing?}" %>
    <% end %>

    <% if current_user.last_synced_at %>
      <span class='text-muted d-none d-sm-inline-block'>
        <small>Last sync: <%= time_ago_in_words current_user.last_synced_at %> ago</small>
      </span>
    <% end %>
  </div>

  <table class='table table-hover table-notifications js-table-notifications mb-0 <%= 'filtered' if any_active_filters? %>' data-refresh-interval=<%= current_user.effective_refresh_interval %>>
    <% if @open_rewards.to_a.any? %>
      <%= render partial: 'reward', collection: @open_rewards %>
    <% else %>
      <div class="py-5 text-center">
        <%= octicon 'search', height: 32, class: 'blankslate-icon' %>
        <h3>Add a bounty to an issue.</h3>
        <% unless current_user.notifications.any? %>
          <p><i>Expecting notifications? Make sure <a href="<%= Octobox.config.github_domain %>/settings/notifications">Web Notifications</a> are enabled on your GitHub account.</i></p>
        <% end %>
      </div>
    <% end %>
  </table>
</div>
